//
// ────────────────────────────────────────────────────── I ──────────
//   :::::: I M P O R T S : :  :   :    :     :        :          :
// ────────────────────────────────────────────────────────────────
//
//
// ─── VENDOR ─────────────────────────────────────────────────────────────────────
//
import React from "react";
import PropTypes from "prop-types";
import { Link } from "react-router-dom";
import { connect } from "react-redux";
// ────────────────────────────────────────────────────────────────────────────────
//
// ─── CUSTOM ─────────────────────────────────────────────────────────────────────
//
import { Types } from "../../store/ducks/search";
// ────────────────────────────────────────────────────────────────────────────────
// ────────────────────────────────────────────────────────────────────────────────
//
// ────────────────────────────────────────────────────────────────────────────── II ──────────
//   :::::: S E A R C H B A R   C O M P O N E N T : :  :   :    :     :        :          :
// ────────────────────────────────────────────────────────────────────────────────────────
//
export const SearchBar = ({ query = "", search }) => (
  <div className="search-books-bar">
    <Link className="close-search" to="/">
      Close
    </Link>
    <div className="search-books-input-wrapper">
      <input
        type="text"
        value={query}
        onChange={event => search(event.target.value)}
        placeholder="Search by title or author"
      />
    </div>
  </div>
);
// ────────────────────────────────────────────────────────────────────────────────
//
// ────────────────────────────────────────────────────────── III ──────────
//   :::::: P R O P T Y P E S : :  :   :    :     :        :          :
// ────────────────────────────────────────────────────────────────────
//
SearchBar.propTypes = {
  query: PropTypes.string.isRequired,
  search: PropTypes.func.isRequired
};
// ────────────────────────────────────────────────────────────────────────────────
//
// ────────────────────────────────────────────────────────────────── 4 ──────────
//   :::::: R E D U X   M A P P I N G : :  :   :    :     :        :          :
// ────────────────────────────────────────────────────────────────────────────
//
const mapStateToProps = ({ search: { query } }) => ({ query });
const mapDispatchToProps = dispatch => ({
  search: query => dispatch({ type: Types.SEARCH, payload: query })
});
// ────────────────────────────────────────────────────────────────────────────────
//
// ────────────────────────────────────────────────────── IV ──────────
//   :::::: E X P O R T S : :  :   :    :     :        :          :
// ────────────────────────────────────────────────────────────────
//
export default connect(
  mapStateToProps,
  mapDispatchToProps
)(SearchBar);
// ────────────────────────────────────────────────────────────────────────────────
